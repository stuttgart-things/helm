---
kind: Cluster
apiVersion: kind.x-k8s.io/v1alpha4
networking:
 disableDefaultCNI: true
 kubeProxyMode: none
nodes:
 - role: control-plane
 - role: worker


# helm repo add cilium https://helm.cilium.io/
# helm repo update

   #helm install cilium cilium/cilium \
   #--namespace kube-system \
   #--values values.yaml


# cilium install   --set kubeProxyReplacement="strict"   --set routingMode="native"   --set ipv4NativeRoutingCIDR="10.244.0.0/16"   --set k8sServiceHost="kind-control-plane"   --set k8sServicePort=6443   --set l2announcements.enabled=true   --set l2announcements.leaseDuration="3s"   --set l2announcements.leaseRenewDeadline="1s"   --set l2announcements.leaseRetryPeriod="500ms"   --set devices="{eth0,net0}"   --set externalIPs.enabled=true   --set autoDirectNodeRoutes=true   --set operator.replicas=2 --set kubeProxyReplacement=true
